<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Website on Docker, Linux, and Containerization home page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/myStyle.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-3">
    <div class="container-fluid">

        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav">
                <a href="index.html" class="nav-item nav-link active">Home</a>
                <a href="virtualization.html" class="nav-item nav-link">virtualization</a>
                <a href="containerization.html" class="nav-item nav-link">containerization</a>
                <a href="dockerTutorial.html" class="nav-item nav-link">Docker Tutorial</a>
                <a href="LinuxCommands.html" class="nav-item nav-link">Basic Linux Commands</a>
                <a href="DockerWithPycharm.html" class="nav-item nav-link">Docker with Pycharm</a>
            </div>
        </div>
    </div>
</nav>

<div class="container">
    <h1>Website on Docker, Linux, and Containerization</h1>
    <div class="jumbotron">

        <div class="jumbotron">
            <p class="lead">
            <div class="mui-container-fluid content">
                <div class="mui-container">
                    <!-- Tutorial ToC Starts Here -->
                    <div class="mui-col-md-3 tutorial-toc">

                        <div class="mui-col-md-6 tutorial-content">
                            <h1>Docker - Building a Web Server Docker File</h1>
                            <hr>

                            <div id="adp_top_ads" style="text-align:center!important;min-height:90px!important">
                                <div id="2d1bb2c4-eb72-471d-9c80-1bf5514728c1" class="_ap_apex_ad"></div>
                            </div>


                        </div>
                        <br>
                        <div class="mui-container-fluid button-borders">

                            <div class="clearer"></div>
                            <p>We have already learnt how to use Docker File to build our own custom images. Now let’s
                                see how we can build a web server image which can be used to build containers.</p>
                            <p>In our example, we are going to use the Apache Web Server on Ubuntu to build our image.
                                Let’s follow the steps given below, to build our web server Docker file.</p>
                            <p><b>Step 1</b> − The first step is to build our Docker File. Let’s use <b>vim</b> and
                                create a Docker File with the following information.</p>
                            <pre class="result notranslate">FROM ubuntu
RUN apt-get update
RUN apt-get install –y apache2
RUN apt-get install –y apache2-utils
RUN apt-get clean
EXPOSE 80 CMD [“apache2ctl”, “-D”, “FOREGROUND”]
</pre>
                            <p>The following points need to be noted about the above statements −</p>
                            <ul class="list">
                                <li><p>We are first creating our image to be from the Ubuntu base image.</p></li>
                                <li><p>Next, we are going to use the RUN command to update all the packages on the
                                    Ubuntu system.</p></li>
                                <li><p>Next, we use the RUN command to install apache2 on our image.</p></li>
                                <li><p>Next, we use the RUN command to install the necessary utility apache2 packages on
                                    our image.</p></li>
                                <li><p>Next, we use the RUN command to clean any unnecessary files from the system.</p>
                                </li>
                                <li><p>The EXPOSE command is used to expose port 80 of Apache in the container to the
                                    Docker host.</p></li>
                                <li><p>Finally, the CMD command is used to run apache2 in the background.</p></li>
                            </ul>
                            <img src="images/apache2.jpg" alt="Apache2">
                            <p>Now that the file details have been entered, just save the file.</p>
                            <p><b>Step 2</b> − Run the Docker <b>build</b> command to build the Docker file. It can be
                                done using the following command −</p>
                            <pre class="result notranslate">sudo docker build –t=”mywebserver” .
</pre>
                            <p>We are tagging our image as <b>mywebserver</b>. Once the image is built, you will get a
                                successful message that the file has been built.</p>
                            <img src="images/my_web_servers.jpg" alt="Mywebservers">
                            <p><b>Step 3</b> − Now that the web server file has been built, it’s now time to create a
                                container from the image. We can do this with the Docker <b>run</b> command.</p>
                            <pre class="result notranslate">sudo docker run –d –p 80:80 mywebserver
</pre>
                            <p></p>
                            <img src="images/docker_run_command.jpg" alt="Docker Run Command">
                            <p>The following points need to be noted about the above command −</p>
                            <ul class="list">
                                <li><p>The port number exposed by the container is 80. Hence with the <b>–p</b> command,
                                    we are mapping the same port number to the 80 port number on our localhost.</p></li>
                                <li><p>The <b>–d</b> option is used to run the container in detached mode. This is so
                                    that the container can run in the background.</p></li>
                            </ul>
                            <p>If you go to port 80 of the Docker host in your web browser, you will now see that Apache
                                is up and running.</p>
                            <img src="images/apache_is_running.jpg" alt="Apache is running">
                            <div class="mui-container-fluid button-borders show" id="bottom_navigation">
                                <div class="pre-btn">
                                </div>
                                <br>
                                <hr>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/YFl2mCHdv24"
                                        title="YouTube video player" frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen></iframe>
                            </div>
                        </div>

                        <hr>
                        <footer>
                            <div class="row">
                                <div class="col-md-6">
                                    <p>Website on Docker, Linux, and Containerization</p>
                                </div>
                                <div class="col-md-6 text-md-right">

                                </div>
                            </div>
                        </footer>
                    </div>
</body>
</html>